flowchart TD

  A[Legal Data Sources] --> B[Fetchers / Connectors]
  B --> C[Raw Storage: data/raw/]
  C --> D[Parsers: PDF / HTML / OCR]
  D --> E[Cleaners: Text + Citation Cleaning]
  E --> F[Metadata Extractor: Court, Date, Case No, Sections]
  F --> G[Chunking Engine: chunking_rules.py]
  G --> H[Processed Storage: data/processed/ and data/chunks/]
  H --> I[Embedding Provider: OpenAI or Local]
  I --> J[Vector Store Builder]
  J --> K[(FAISS Index)]
  J --> L[(ChromaDB)]
  K --> M[Retriever Ready]
  L --> M[Retriever Ready]
  M --> N[CaseFinder Agent Uses Index]
  N --> O[Outputs: Search Results + Citations]
